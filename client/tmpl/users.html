<div id="users">
  <h1>Users List:</h1>
  <button class="btn btn-success" ng-click="openModal()">Add New User</button>

  <table class="table">
    <thead>
      <tr>
        <th>username</th>
        <th>password</th>
        <th>email</th>
        <th>acl</th>
        <th>DELETE USER</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in users">
        <td>{{user.username}}</td>
        <td>*****</td>
        <td>{{user.email}}</td>
        <td>
          <form>
            <fieldset>
              <label ng-repeat="perm in user.acl">
                <input type="checkbox" ng-change="updateUser(user)" ng-model="perm.has"> {{perm.name}}
              </label>
            </fieldset>
          </form>
        </td>
        <td><button ng-click="deleteUser(user)" class="btn btn-danger">Delete</button></td>
      </tr>
    </tbody>
  </table>

  <div modal="showModal" close="closeModal()" options="modalOpts">
    <div class="modal-header"><h3>{{modalTitle}}</h3></div>

    <div class="modal-body">
      <form>
        <fieldset>
          <label>Username:</label>
          <input type="text" ng-model="user.user">

          <label>Password:</label>
          <input type="password" ng-model="user.pass">

          <label>Email:</label>
          <input type="text" ng-model="user.email">
        </fieldset>
      </form>
    </div>

    <div class="modal-footer">
      <button ng-click="closeModal()" class="btn">Cancel</button>
      <button ng-disabled="!user.user || !user.pass || !user.email" ng-click="saveUser(user)" class="btn btn-success">Save</button>
    </div>
  </div>
</div>
